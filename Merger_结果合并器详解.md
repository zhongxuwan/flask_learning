# Merger ÁªìÊûúÂêàÂπ∂Âô®ËØ¶Ëß£

## üìã ÁõÆÂΩï

1. [È°πÁõÆÊ¶ÇËø∞](#È°πÁõÆÊ¶ÇËø∞)
2. [ÂØºÂÖ•ËØ≠Âè•ËØ¶Ëß£](#ÂØºÂÖ•ËØ≠Âè•ËØ¶Ëß£)
3. [ResultMergerÁ±ªÂàùÂßãÂåñ](#resultmergerÁ±ªÂàùÂßãÂåñ)
4. [JSONÊñá‰ª∂ÂêàÂπ∂ÊñπÊ≥ï](#jsonÊñá‰ª∂ÂêàÂπ∂ÊñπÊ≥ï)
5. [BibTeXÊñá‰ª∂ÂêàÂπ∂ÊñπÊ≥ï](#bibtexÊñá‰ª∂ÂêàÂπ∂ÊñπÊ≥ï)
6. [Áªü‰∏ÄÂêàÂπ∂ÊñπÊ≥ï](#Áªü‰∏ÄÂêàÂπ∂ÊñπÊ≥ï)
7. [ÊäÄÊúØÊÄªÁªì](#ÊäÄÊúØÊÄªÁªì)

---

## üìñ È°πÁõÆÊ¶ÇËø∞

`merger.py` ÊòØ‰∏Ä‰∏™**Êñá‰ª∂ÂêàÂπ∂Â∑•ÂÖ∑**ÔºåÁî®‰∫éÂêàÂπ∂Â§ö‰∏™ÊêúÁ¥¢ÁªìÊûúÊñá‰ª∂ÔºåÂéªÈô§ÈáçÂ§çÊù°ÁõÆÔºå‰øùÁïôÊúÄÂÆåÊï¥ÁöÑ‰ø°ÊÅØ„ÄÇ

### ‰∏ªË¶ÅÂäüËÉΩ

- üìÑ **JSONÂêàÂπ∂**: ÂêàÂπ∂Â§ö‰∏™JSONÁªìÊûúÊñá‰ª∂
- üìö **BibTeXÂêàÂπ∂**: ÂêàÂπ∂Â§ö‰∏™BibTeXÂºïÁî®Êñá‰ª∂
- üîç **ÂéªÈáçÂ§ÑÁêÜ**: Ëá™Âä®ËØÜÂà´Âπ∂ÂéªÈô§ÈáçÂ§çÊù°ÁõÆ
- ‚ú® **Êô∫ËÉΩÈÄâÊã©**: ‰øùÁïô‰ø°ÊÅØÊúÄÂÆåÊï¥ÁöÑÁâàÊú¨
- üíæ **Áªü‰∏ÄËæìÂá∫**: ÁîüÊàêÂêàÂπ∂ÂêéÁöÑÂçï‰∏ÄÊñá‰ª∂

### Ê†∏ÂøÉÊµÅÁ®ã

```
ËØªÂèñÂ§ö‰∏™Êñá‰ª∂ ‚Üí ÊèêÂèñÂîØ‰∏ÄÈîÆ ‚Üí ÂéªÈáçÂêàÂπ∂ ‚Üí ‰øùÁïôÊúÄ‰ºòÁâàÊú¨ ‚Üí ÂÜôÂÖ•ÂêàÂπ∂Êñá‰ª∂
     ‚Üì            ‚Üì          ‚Üì            ‚Üì              ‚Üì
  JSON/BIB    citation_key   Â≠óÂÖ∏Â≠òÂÇ®    ÊØîËæÉÊëòË¶ÅÈïøÂ∫¶    ËæìÂá∫Êñá‰ª∂
```

### Êñá‰ª∂ÁªüËÆ°

- **ÊÄªË°åÊï∞**: 184Ë°å
- **ÂØºÂÖ•Ê®°Âùó**: 4‰∏™
- **Á±ªÊï∞Èáè**: 1‰∏™ÔºàResultMergerÔºâ
- **ÊñπÊ≥ïÊï∞Èáè**: 4‰∏™
- **‰ª£Á†ÅÁÆÄÊ¥ÅÂ∫¶**: ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

---

## üì¶ ÂØºÂÖ•ËØ≠Âè•ËØ¶Ëß£

### Ê†áÂáÜÂ∫ìÂØºÂÖ•ÔºàÁ¨¨1-4Ë°åÔºâ

```python
import os                                  # Á¨¨1Ë°å
import re                                  # Á¨¨2Ë°å
import json                                # Á¨¨3Ë°å
from typing import Dict, List              # Á¨¨4Ë°å
```

**Á¨¨1Ë°åËØ¶Ëß£**Ôºö`import os`

```python
import os

# osÊ®°ÂùóÂú®Êú¨È°πÁõÆ‰∏≠ÁöÑÂ∫îÁî®
# 1. Ê£ÄÊü•ÁõÆÂΩïÊòØÂê¶Â≠òÂú®
os.path.exists(folder_path)

# 2. ÂàóÂá∫ÁõÆÂΩï‰∏≠ÁöÑÊñá‰ª∂
os.listdir(folder_path)

# 3. ÊãºÊé•Êñá‰ª∂Ë∑ØÂæÑ
os.path.join(folder, filename)

# os.pathÂ∏∏Áî®ÊñπÊ≥ï
# 1. exists() - Ê£ÄÊü•Ë∑ØÂæÑÊòØÂê¶Â≠òÂú®
if os.path.exists('data.json'):
    print("Êñá‰ª∂Â≠òÂú®")

# 2. isfile() - Ê£ÄÊü•ÊòØÂê¶ÊòØÊñá‰ª∂
if os.path.isfile('data.json'):
    print("ÊòØÊñá‰ª∂")

# 3. isdir() - Ê£ÄÊü•ÊòØÂê¶ÊòØÁõÆÂΩï
if os.path.isdir('results'):
    print("ÊòØÁõÆÂΩï")

# 4. join() - Ë∑®Âπ≥Âè∞Ë∑ØÂæÑÊãºÊé•
path = os.path.join('folder', 'subfolder', 'file.txt')
# Windows: folder\subfolder\file.txt
# Linux: folder/subfolder/file.txt

# 5. dirname() - Ëé∑ÂèñÁõÆÂΩïÂêç
dirname = os.path.dirname('/path/to/file.txt')
# '/path/to'

# 6. basename() - Ëé∑ÂèñÊñá‰ª∂Âêç
filename = os.path.basename('/path/to/file.txt')
# 'file.txt'

# os.listdir()ËØ¶Ëß£
# ÂäüËÉΩÔºöÂàóÂá∫ÁõÆÂΩï‰∏≠ÁöÑÊâÄÊúâÊñá‰ª∂ÂíåÂ≠êÁõÆÂΩï
files = os.listdir('results')
# ['file1.json', 'file2.json', 'subfolder']

# ËøáÊª§ÁâπÂÆöÁ±ªÂûãÁöÑÊñá‰ª∂
json_files = [f for f in os.listdir('results') if f.endswith('.json')]

# ÈÅçÂéÜÁõÆÂΩï‰∏≠ÁöÑÊñá‰ª∂
for filename in os.listdir('results'):
    if filename.endswith('.json'):
        # Â§ÑÁêÜJSONÊñá‰ª∂
        pass
```

**Á¨¨2Ë°åËØ¶Ëß£**Ôºö`import re`

```python
import re

# reÊ®°ÂùóÂú®Êú¨È°πÁõÆ‰∏≠ÁöÑÂ∫îÁî®
# ÊèêÂèñBibTeXÊù°ÁõÆÁöÑÈîÆÂêçÔºàÁ¨¨91Ë°åÔºâ
entry_pattern = re.compile(r'@\w+\{([^,]+),')

# Ê≠£ÂàôË°®ËææÂºèËØ¶Ëß£
# r'@\w+\{([^,]+),'
# @        - Â≠óÈù¢ÂåπÈÖç@Á¨¶Âè∑
# \w+      - 1‰∏™ÊàñÂ§ö‰∏™ÂçïËØçÂ≠óÁ¨¶ÔºàÂ≠óÊØç„ÄÅÊï∞Â≠ó„ÄÅ‰∏ãÂàíÁ∫øÔºâ
# \{       - Â≠óÈù¢ÂåπÈÖçÂ∑¶Ëä±Êã¨Âè∑{
# ([^,]+)  - ÊçïËé∑ÁªÑÔºö1‰∏™ÊàñÂ§ö‰∏™ÈùûÈÄóÂè∑Â≠óÁ¨¶
# ,        - Â≠óÈù¢ÂåπÈÖçÈÄóÂè∑

# BibTeXÊù°ÁõÆÊ†ºÂºèÁ§∫‰æã
"""
@article{Zhang2024DeepLearning,
  title = {Deep Learning},
  author = {Zhang, L.},
  year = {2024}
}
"""

# ÊèêÂèñÈîÆÂêç"Zhang2024DeepLearning"
match = entry_pattern.search(entry)
if match:
    key = match.group(1)  # "Zhang2024DeepLearning"

# re.compile()ËØ¶Ëß£
# ÂäüËÉΩÔºöÁºñËØëÊ≠£ÂàôË°®ËææÂºèÔºåÊèêÈ´òÈáçÂ§ç‰ΩøÁî®ÁöÑÊïàÁéá

# ‰∏çÁºñËØëÔºàÊØèÊ¨°ÈÉΩÈáçÊñ∞Ëß£ÊûêÔºâ
for text in texts:
    match = re.search(r'pattern', text)

# ÁºñËØëÂêéÔºàÂè™Ëß£Êûê‰∏ÄÊ¨°Ôºâ
pattern = re.compile(r'pattern')
for text in texts:
    match = pattern.search(text)  # Êõ¥Âø´

# reÂ∏∏Áî®ÊñπÊ≥ï
# 1. search() - Êü•ÊâæÁ¨¨‰∏Ä‰∏™ÂåπÈÖç
match = re.search(r'pattern', text)
if match:
    print(match.group())

# 2. findall() - Êü•ÊâæÊâÄÊúâÂåπÈÖç
matches = re.findall(r'\d+', '123 abc 456')
# ['123', '456']

# 3. sub() - ÊõøÊç¢
result = re.sub(r'\s+', ' ', '  Â§ö  ‰∏™  Á©∫Ê†º  ')
# ' Â§ö ‰∏™ Á©∫Ê†º '

# 4. split() - ÂàÜÂâ≤
parts = re.split(r'\s+', 'a  b    c')
# ['a', 'b', 'c']

# ÊçïËé∑ÁªÑËØ¶Ëß£
# () - ÂÆö‰πâÊçïËé∑ÁªÑ
pattern = r'(\d{4})-(\d{2})-(\d{2})'
match = re.search(pattern, '2024-01-15')
if match:
    year = match.group(1)   # '2024'
    month = match.group(2)  # '01'
    day = match.group(3)    # '15'
    full = match.group(0)   # '2024-01-15'ÔºàÂÆåÊï¥ÂåπÈÖçÔºâ
```

**Á¨¨3Ë°åËØ¶Ëß£**Ôºö`import json`

```python
import json

# jsonÊ®°ÂùóÂú®Êú¨È°πÁõÆ‰∏≠ÁöÑÂ∫îÁî®
# 1. ËØªÂèñJSONÊñá‰ª∂ÔºàÁ¨¨38Ë°åÔºâ
with open(file_path, 'r', encoding='utf-8') as f:
    data = json.load(f)

# 2. ÂÜôÂÖ•JSONÊñá‰ª∂ÔºàÁ¨¨70Ë°åÔºâ
with open(output_file, 'w', encoding='utf-8') as f:
    json.dump(data, f, ensure_ascii=False, indent=2)

# json.load() vs json.loads()
# load()Ôºö‰ªéÊñá‰ª∂ËØªÂèñ
with open('data.json', 'r') as f:
    data = json.load(f)

# loads()Ôºö‰ªéÂ≠óÁ¨¶‰∏≤Ëß£Êûê
json_str = '{"name": "Âº†‰∏â"}'
data = json.loads(json_str)

# json.dump() vs json.dumps()
# dump()ÔºöÂÜôÂÖ•Êñá‰ª∂
with open('data.json', 'w') as f:
    json.dump(data, f)

# dumps()ÔºöËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤
json_str = json.dumps(data)

# dump()ÂèÇÊï∞ËØ¶Ëß£
json.dump(
    data,                    # Ë¶ÅÂ∫èÂàóÂåñÁöÑÊï∞ÊçÆ
    f,                       # Êñá‰ª∂ÂØπË±°
    ensure_ascii=False,      # ‰∏çËΩ¨‰πâÈùûASCIIÂ≠óÁ¨¶Ôºà‰øùÁïô‰∏≠ÊñáÔºâ
    indent=2                 # Áº©Ëøõ2‰∏™Á©∫Ê†ºÔºàÁæéÂåñËæìÂá∫Ôºâ
)

# ensure_asciiÂèÇÊï∞
# TrueÔºàÈªòËÆ§ÔºâÔºö
{"name": "\u5f20\u4e09"}  # ‰∏≠ÊñáË¢´ËΩ¨‰πâ

# FalseÔºö
{"name": "Âº†‰∏â"}           # ‰øùÁïô‰∏≠Êñá

# indentÂèÇÊï∞
# NoneÔºàÈªòËÆ§ÔºâÔºöÁ¥ßÂáëÊ†ºÂºè
{"name":"Âº†‰∏â","age":25}

# 2ÔºöÁº©Ëøõ2‰∏™Á©∫Ê†º
{
  "name": "Âº†‰∏â",
  "age": 25
}

# JSONDecodeErrorÂºÇÂ∏∏
# ÂΩìJSONÊ†ºÂºèÈîôËØØÊó∂ÊäõÂá∫
try:
    data = json.load(f)
except json.JSONDecodeError as e:
    print(f"JSONËß£ÊûêÈîôËØØ: {e}")
```

**Á¨¨4Ë°åËØ¶Ëß£**Ôºö`from typing import Dict, List`

```python
from typing import Dict, List

# Á±ªÂûãÊèêÁ§∫ËØ¶Ëß£
# DictÔºöÂ≠óÂÖ∏Á±ªÂûã
# ListÔºöÂàóË°®Á±ªÂûã

# ‰ΩøÁî®Á§∫‰æã
def merge_files(files: List[str]) -> Dict[str, int]:
    """
    ÂèÇÊï∞filesÊòØÂ≠óÁ¨¶‰∏≤ÂàóË°®
    ËøîÂõûÂÄºÊòØÂ≠óÂÖ∏ÔºöÈîÆÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂÄºÊòØÊï¥Êï∞
    """
    return {'count': len(files)}

# Êú¨È°πÁõÆ‰∏≠ÁöÑÂ∫îÁî®
# List[str]ÔºöÂ≠óÁ¨¶‰∏≤ÂàóË°®
filenames: List[str] = os.listdir(folder)

# Dict[str, dict]ÔºöÂ≠óÂÖ∏ÔºåÈîÆÊòØÂ≠óÁ¨¶‰∏≤ÔºåÂÄºÊòØÂ≠óÂÖ∏
unique_entries: Dict[str, dict] = {}

# Á±ªÂûãÊèêÁ§∫ÁöÑÂ•ΩÂ§Ñ
# 1. IDEËá™Âä®ÂÆåÊàê
# 2. Á±ªÂûãÊ£ÄÊü•ÔºàmypyÔºâ
# 3. ÊñáÊ°£‰ΩúÁî®
# 4. ÊèêÈ´ò‰ª£Á†ÅÂèØËØªÊÄß
```

---

## üîß ResultMergerÁ±ªÂàùÂßãÂåñ

### Á±ªÂÆö‰πâÔºàÁ¨¨6-7Ë°åÔºâ

```python
class ResultMerger:                        # Á¨¨6Ë°å
    """ÁªìÊûúÊñá‰ª∂ÂêàÂπ∂Á±ª"""                    # Á¨¨7Ë°å
```

**Á±ªÂÆö‰πâËØ¶Ëß£ÔºàÁ¨¨6-7Ë°åÔºâ**Ôºö

```python
class ResultMerger:
    """ÁªìÊûúÊñá‰ª∂ÂêàÂπ∂Á±ª"""

# Á±ªÁöÑ‰ΩúÁî®
# 1. ÂêàÂπ∂Â§ö‰∏™JSONÊñá‰ª∂
# 2. ÂêàÂπ∂Â§ö‰∏™BibTeXÊñá‰ª∂
# 3. ÂéªÈô§ÈáçÂ§çÊù°ÁõÆ
# 4. ‰øùÁïôÊúÄÂÆåÊï¥ÁöÑ‰ø°ÊÅØ

# ‰∏∫‰ªÄ‰πàÁî®Á±ªÔºü
# 1. Â∞ÅË£ÖÁõ∏ÂÖ≥ÂäüËÉΩ
# 2. ÁÆ°ÁêÜÁä∂ÊÄÅÔºàÊñá‰ª∂Â§πË∑ØÂæÑ„ÄÅËæìÂá∫Êñá‰ª∂ÂêçÔºâ
# 3. ‰ª£Á†ÅÂ§çÁî®

# ÂëΩÂêçËßÑËåÉ
# - È©ºÂ≥∞ÂëΩÂêçÊ≥ïÔºàCamelCaseÔºâ
# - ResultMerger = ResultÔºàÁªìÊûúÔºâ+ MergerÔºàÂêàÂπ∂Âô®Ôºâ
```

### ÂàùÂßãÂåñÊñπÊ≥ïÔºàÁ¨¨8-13Ë°åÔºâ

```python
def __init__(self, json_folder: str, bib_folder: str,   # Á¨¨8Ë°å
             combined_json: str, combined_bib: str):    # Á¨¨9Ë°å
    self.json_folder = json_folder                      # Á¨¨10Ë°å
    self.bib_folder = bib_folder                        # Á¨¨11Ë°å
    self.combined_json = combined_json                  # Á¨¨12Ë°å
    self.combined_bib = combined_bib                    # Á¨¨13Ë°å
```

**ÂàùÂßãÂåñÊñπÊ≥ïËØ¶Ëß£ÔºàÁ¨¨8-13Ë°åÔºâ**Ôºö

```python
def __init__(self, json_folder: str, bib_folder: str, 
             combined_json: str, combined_bib: str):
    self.json_folder = json_folder
    self.bib_folder = bib_folder
    self.combined_json = combined_json
    self.combined_bib = combined_bib

# __init__ÊûÑÈÄ†ÂáΩÊï∞
# ÂèÇÊï∞Ôºö
# - json_folderÔºöJSONÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩï
# - bib_folderÔºöBibTeXÊñá‰ª∂ÊâÄÂú®ÁõÆÂΩï
# - combined_jsonÔºöÂêàÂπ∂ÂêéÁöÑJSONÊñá‰ª∂Âêç
# - combined_bibÔºöÂêàÂπ∂ÂêéÁöÑBibTeXÊñá‰ª∂Âêç

# ÂèÇÊï∞Á±ªÂûãÊèêÁ§∫
# strÔºöÂ≠óÁ¨¶‰∏≤Á±ªÂûã
# ÊâÄÊúâÂèÇÊï∞ÈÉΩÊòØÊñá‰ª∂Ë∑ØÂæÑ

# ÂÆû‰æãÂèòÈáè
# self.json_folderÔºö‰øùÂ≠òJSONÁõÆÂΩïË∑ØÂæÑ
# self.bib_folderÔºö‰øùÂ≠òBibTeXÁõÆÂΩïË∑ØÂæÑ
# self.combined_jsonÔºö‰øùÂ≠òËæìÂá∫JSONÊñá‰ª∂Âêç
# self.combined_bibÔºö‰øùÂ≠òËæìÂá∫BibTeXÊñá‰ª∂Âêç

# ‰ΩøÁî®Á§∫‰æã
merger = ResultMerger(
    json_folder='json_results',
    bib_folder='bib_results',
    combined_json='references.json',
    combined_bib='references.bib'
)

# ËÆøÈóÆÂÆû‰æãÂèòÈáè
print(merger.json_folder)     # 'json_results'
print(merger.combined_json)   # 'references.json'

# ‰∏∫‰ªÄ‰πà‰øùÂ≠òËøô‰∫õË∑ØÂæÑÔºü
# 1. ÈÅøÂÖçÈáçÂ§ç‰º†ÈÄíÂèÇÊï∞
# 2. Êñπ‰æøÂú®Â§ö‰∏™ÊñπÊ≥ï‰∏≠‰ΩøÁî®
# 3. Ê∏ÖÊô∞ÁöÑÁä∂ÊÄÅÁÆ°ÁêÜ

# ‰∏ç‰ΩøÁî®ÂÆû‰æãÂèòÈáèÔºà‰∏çÊé®ËçêÔºâÔºö
def merge_json_files(self, json_folder, combined_json):
    # ÊØèÊ¨°ÈÉΩË¶Å‰º†ÈÄíÂèÇÊï∞
    pass

# ‰ΩøÁî®ÂÆû‰æãÂèòÈáèÔºàÊé®ËçêÔºâÔºö
def merge_json_files(self):
    # Áõ¥Êé•‰ΩøÁî®self.json_folderÂíåself.combined_json
    pass
```

---

## üìÑ JSONÊñá‰ª∂ÂêàÂπ∂ÊñπÊ≥ï

### ÊñπÊ≥ïÂÆö‰πâÂíåÁõÆÂΩïÊ£ÄÊü•ÔºàÁ¨¨15-23Ë°åÔºâ

```python
def merge_json_files(self) -> bool:        # Á¨¨15Ë°å
    """ÂêàÂπ∂JSONÊñá‰ª∂"""                      # Á¨¨16Ë°å
    if not os.path.exists(self.json_folder):  # Á¨¨17Ë°å
        print(f"ÈîôËØØÔºö{self.json_folder} ÁõÆÂΩï‰∏çÂ≠òÂú®")  # Á¨¨18Ë°å
        return False                       # Á¨¨19Ë°å
        
    if not os.listdir(self.json_folder):   # Á¨¨21Ë°å
        print(f"ÈîôËØØÔºö{self.json_folder} ÁõÆÂΩï‰∏∫Á©∫")  # Á¨¨22Ë°å
        return False                       # Á¨¨23Ë°å
```

**ÊñπÊ≥ïÂÆö‰πâÂíåÈ™åËØÅËØ¶Ëß£ÔºàÁ¨¨15-23Ë°åÔºâ**Ôºö

```python
def merge_json_files(self) -> bool:
    """ÂêàÂπ∂JSONÊñá‰ª∂"""
    if not os.path.exists(self.json_folder):
        print(f"ÈîôËØØÔºö{self.json_folder} ÁõÆÂΩï‰∏çÂ≠òÂú®")
        return False
    
    if not os.listdir(self.json_folder):
        print(f"ÈîôËØØÔºö{self.json_folder} ÁõÆÂΩï‰∏∫Á©∫")
        return False

# ÊñπÊ≥ïÁ≠æÂêçËØ¶Ëß£
# -> boolÔºöËøîÂõûÁ±ªÂûãÊòØÂ∏ÉÂ∞îÂÄº
# TrueÔºöÊàêÂäü
# FalseÔºöÂ§±Ë¥•

# ËæìÂÖ•È™åËØÅÔºàÈò≤Âæ°ÊÄßÁºñÁ®ãÔºâ
# 1. Ê£ÄÊü•ÁõÆÂΩïÊòØÂê¶Â≠òÂú®
if not os.path.exists(self.json_folder):
    # ÁõÆÂΩï‰∏çÂ≠òÂú®ÔºåÊó†Ê≥ïÁªßÁª≠
    return False

# 2. Ê£ÄÊü•ÁõÆÂΩïÊòØÂê¶‰∏∫Á©∫
if not os.listdir(self.json_folder):
    # os.listdir()ËøîÂõûÁ©∫ÂàóË°®[]
    # not [] ‰∏∫ True
    return False

# ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÈ™åËØÅÔºü
# 1. ÈÅøÂÖçËøêË°åÊó∂ÈîôËØØ
# 2. Êèê‰æõÂèãÂ•ΩÁöÑÈîôËØØÊèêÁ§∫
# 3. Êó©ÊúüÂ§±Ë¥•ÔºàFail FastÔºâ

# f-stringÊ†ºÂºèÂåñ
folder = "json_results"
print(f"ÈîôËØØÔºö{folder} ÁõÆÂΩï‰∏çÂ≠òÂú®")
# ËæìÂá∫ÔºöÈîôËØØÔºöjson_results ÁõÆÂΩï‰∏çÂ≠òÂú®

# Á≠â‰ª∑ÂÜôÊ≥ï
print("ÈîôËØØÔºö" + folder + " ÁõÆÂΩï‰∏çÂ≠òÂú®")
print("ÈîôËØØÔºö{} ÁõÆÂΩï‰∏çÂ≠òÂú®".format(folder))

# f-stringÁöÑ‰ºòÂäøÔºö
# 1. Êõ¥ÁÆÄÊ¥Å
# 2. Êõ¥ÊòìËØª
# 3. ÊîØÊåÅË°®ËææÂºè

# ËøîÂõûÂÄºÁöÑ‰ΩøÁî®
success = merger.merge_json_files()
if success:
    print("ÂêàÂπ∂ÊàêÂäü")
else:
    print("ÂêàÂπ∂Â§±Ë¥•")
```

### ÂàùÂßãÂåñÊï∞ÊçÆÁªìÊûÑÔºàÁ¨¨25-28Ë°åÔºâ

```python
# Â≠òÂÇ®ÊâÄÊúâÂ∑≤Â§ÑÁêÜÁöÑÊù°ÁõÆÔºå‰ΩøÁî®citation_key‰Ωú‰∏∫ÈîÆ  # Á¨¨25Ë°åÔºàÊ≥®ÈáäÔºâ
unique_entries = {}                        # Á¨¨26Ë°å

print("ÂºÄÂßãÂêàÂπ∂JSONÊñá‰ª∂...")               # Á¨¨28Ë°å
```

**Êï∞ÊçÆÁªìÊûÑÂàùÂßãÂåñËØ¶Ëß£ÔºàÁ¨¨26Ë°åÔºâ**Ôºö

```python
unique_entries = {}

# Â≠óÂÖ∏Áî®‰∫éÂéªÈáç
# ÈîÆÔºöcitation_keyÔºàÊñáÁåÆÂºïÁî®ÈîÆÔºâ
# ÂÄºÔºöÊñáÁåÆÊù°ÁõÆÔºàÂ≠óÂÖ∏Ôºâ

# ‰∏∫‰ªÄ‰πàÁî®Â≠óÂÖ∏ËÄå‰∏çÊòØÂàóË°®Ôºü
# Â≠óÂÖ∏Ôºö
unique_entries = {}
# ‰ºòÂäøÔºö
# 1. Âø´ÈÄüÊü•ÊâæÔºöO(1)Êó∂Èó¥Â§çÊùÇÂ∫¶
# 2. Ëá™Âä®ÂéªÈáçÔºöÁõ∏ÂêåÈîÆ‰ºöË¶ÜÁõñ
# 3. Êòì‰∫éÊõ¥Êñ∞

# ÂàóË°®Ôºö
unique_list = []
# ÈóÆÈ¢òÔºö
# 1. Êü•ÊâæÊÖ¢ÔºöO(n)Êó∂Èó¥Â§çÊùÇÂ∫¶
# 2. ÈúÄË¶ÅÊâãÂä®ÂéªÈáç
# 3. Êõ¥Êñ∞È∫ªÁÉ¶

# ‰ΩøÁî®Á§∫‰æã
# Ê∑ªÂä†Êù°ÁõÆ
unique_entries['Zhang2024'] = {
    'title': 'Deep Learning',
    'abstract': '...'
}

# Ê£ÄÊü•ÊòØÂê¶Â≠òÂú®
if 'Zhang2024' in unique_entries:
    print("Â∑≤Â≠òÂú®")

# Êõ¥Êñ∞Êù°ÁõÆÔºàÂ¶ÇÊûúÊëòË¶ÅÊõ¥ÈïøÔºâ
if len(new_abstract) > len(unique_entries['Zhang2024']['abstract']):
    unique_entries['Zhang2024'] = new_entry
```

### ÈÅçÂéÜÂíåÂ§ÑÁêÜJSONÊñá‰ª∂ÔºàÁ¨¨30-62Ë°åÔºâ

```python
# ÈÅçÂéÜÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâJSONÊñá‰ª∂                # Á¨¨30Ë°åÔºàÊ≥®ÈáäÔºâ
for filename in os.listdir(self.json_folder):  # Á¨¨31Ë°å
    if filename.endswith('.json'):         # Á¨¨32Ë°å
        file_path = os.path.join(self.json_folder, filename)  # Á¨¨33Ë°å
        
        try:                               # Á¨¨35Ë°å
            # ËØªÂèñJSONÊñá‰ª∂                  # Á¨¨36Ë°åÔºàÊ≥®ÈáäÔºâ
            with open(file_path, 'r', encoding='utf-8') as f:  # Á¨¨37Ë°å
                data = json.load(f)        # Á¨¨38Ë°å
```

**Êñá‰ª∂ÈÅçÂéÜËØ¶Ëß£ÔºàÁ¨¨31-38Ë°åÔºâ**Ôºö

```python
for filename in os.listdir(self.json_folder):
    if filename.endswith('.json'):
        file_path = os.path.join(self.json_folder, filename)
        
        try:
            with open(file_path, 'r', encoding='utf-8') as f:
                data = json.load(f)

# forÂæ™ÁéØÈÅçÂéÜÊñá‰ª∂
# os.listdir()ËøîÂõûÁõÆÂΩï‰∏≠ÁöÑÊâÄÊúâÊñá‰ª∂Âêç
for filename in os.listdir('json_results'):
    # filename: 'query1.json', 'query2.json', ...

# ËøáÊª§JSONÊñá‰ª∂
if filename.endswith('.json'):
    # Âè™Â§ÑÁêÜ.jsonÊñá‰ª∂
    # ÂøΩÁï•ÂÖ∂‰ªñÊñá‰ª∂Ôºà.txt„ÄÅ.bakÁ≠âÔºâ

# endswith()ÊñπÊ≥ï
'file.json'.endswith('.json')  # True
'file.txt'.endswith('.json')   # False
'data.json.bak'.endswith('.json')  # False

# ÂÖ∂‰ªñÂ≠óÁ¨¶‰∏≤Âà§Êñ≠ÊñπÊ≥ï
'file.json'.startswith('file')  # True
'test' in 'testing'  # True
'data.json'.lower()  # 'data.json'ÔºàËΩ¨Â∞èÂÜôÔºâ

# Ë∑ØÂæÑÊãºÊé•
file_path = os.path.join(self.json_folder, filename)
# 'json_results' + 'query1.json' ‚Üí 'json_results/query1.json'

# ‰∏∫‰ªÄ‰πàÁî®os.path.join()Ôºü
# Ë∑®Âπ≥Âè∞ÂÖºÂÆπ
# Windows: json_results\query1.json
# Linux:   json_results/query1.json

# try-exceptÂºÇÂ∏∏Â§ÑÁêÜ
try:
    # ÂèØËÉΩÂá∫ÈîôÁöÑ‰ª£Á†Å
    data = json.load(f)
except json.JSONDecodeError:
    # JSONÊ†ºÂºèÈîôËØØ
    print("JSONËß£ÊûêÂ§±Ë¥•")
except Exception as e:
    # ÂÖ∂‰ªñÈîôËØØ
    print(f"ÈîôËØØ: {e}")

# withËØ≠Âè•
with open(file_path, 'r', encoding='utf-8') as f:
    data = json.load(f)
# Êñá‰ª∂Ëá™Âä®ÂÖ≥Èó≠ÔºåÂç≥‰ΩøÂá∫Èîô

# Á≠â‰ª∑ÁöÑtry-finally
f = open(file_path, 'r', encoding='utf-8')
try:
    data = json.load(f)
finally:
    f.close()

# encoding='utf-8'
# ÊåáÂÆöÊñá‰ª∂ÁºñÁ†Å‰∏∫UTF-8
# Á°Æ‰øù‰∏≠ÊñáÁ≠âÂ≠óÁ¨¶Ê≠£Á°ÆËØªÂèñ
```

### Â§ÑÁêÜJSONÊï∞ÊçÆÔºàÁ¨¨40-56Ë°åÔºâ

```python
# Á°Æ‰øùÊï∞ÊçÆÊòØÂàóË°®Ê†ºÂºè                      # Á¨¨40Ë°åÔºàÊ≥®ÈáäÔºâ
if isinstance(data, list):             # Á¨¨41Ë°å
    total_entries = len(data)          # Á¨¨42Ë°å
    unique_count = 0                   # Á¨¨43Ë°å
    
    # Â§ÑÁêÜÊØè‰∏™Êù°ÁõÆ                       # Á¨¨45Ë°åÔºàÊ≥®ÈáäÔºâ
    for item in data:                  # Á¨¨46Ë°å
        # Ëé∑Âèñcitation_key              # Á¨¨47Ë°åÔºàÊ≥®ÈáäÔºâ
        citation_key = item.get('citation_key')  # Á¨¨48Ë°å
        
        if citation_key:               # Á¨¨50Ë°å
            # Â¶ÇÊûúÊòØÊñ∞ÁöÑÊù°ÁõÆÊàñËÄÖÂΩìÂâçÊù°ÁõÆÁöÑÊëòË¶ÅÊõ¥ÈïøÔºåÂàôÊõ¥Êñ∞  # Á¨¨51Ë°åÔºàÊ≥®ÈáäÔºâ
            if (citation_key not in unique_entries or   # Á¨¨52Ë°å
                len(item.get('abstract', '')) > len(unique_entries[citation_key].get('abstract', ''))):  # Á¨¨53Ë°å
                unique_entries[citation_key] = item     # Á¨¨54Ë°å
                if citation_key not in unique_entries:  # Á¨¨55Ë°å
                    unique_count += 1                   # Á¨¨56Ë°å
```

**Êï∞ÊçÆÂ§ÑÁêÜËØ¶Ëß£ÔºàÁ¨¨41-56Ë°åÔºâ**Ôºö

```python
if isinstance(data, list):
    for item in data:
        citation_key = item.get('citation_key')
        
        if citation_key:
            if (citation_key not in unique_entries or 
                len(item.get('abstract', '')) > len(unique_entries[citation_key].get('abstract', ''))):
                unique_entries[citation_key] = item

# isinstance()Á±ªÂûãÊ£ÄÊü•
isinstance(data, list)  # dataÊòØÂàóË°®ÂêóÔºü
isinstance(data, dict)  # dataÊòØÂ≠óÂÖ∏ÂêóÔºü
isinstance(data, str)   # dataÊòØÂ≠óÁ¨¶‰∏≤ÂêóÔºü

# ‰∏∫‰ªÄ‰πàÊ£ÄÊü•Á±ªÂûãÔºü
# JSONÂèØËÉΩÊòØÔºö
# 1. ÂàóË°®Ôºö[{...}, {...}]ÔºàÈ¢ÑÊúüÔºâ
# 2. Â≠óÂÖ∏Ôºö{...}ÔºàÈùûÈ¢ÑÊúüÔºâ
# 3. ÂÖ∂‰ªñÁ±ªÂûãÔºàÈùûÈ¢ÑÊúüÔºâ

# dict.get()ÊñπÊ≥ï
citation_key = item.get('citation_key')
# Â¶ÇÊûú'citation_key'Â≠òÂú®ÔºöËøîÂõûÂÄº
# Â¶ÇÊûú‰∏çÂ≠òÂú®ÔºöËøîÂõûNone

# get() vs []
# ÂÆâÂÖ®ÊñπÂºèÔºàÊé®ËçêÔºâÔºö
key = item.get('citation_key')  # ËøîÂõûNoneÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®Ôºâ

# ‰∏çÂÆâÂÖ®ÊñπÂºèÔºö
key = item['citation_key']  # KeyErrorÔºàÂ¶ÇÊûú‰∏çÂ≠òÂú®Ôºâ

# get()Â∏¶ÈªòËÆ§ÂÄº
abstract = item.get('abstract', '')
# Â¶ÇÊûú'abstract'‰∏çÂ≠òÂú®ÔºåËøîÂõû''ÔºàÁ©∫Â≠óÁ¨¶‰∏≤Ôºâ

# ÂéªÈáçÂíåÊõ¥Êñ∞ÈÄªËæë
if citation_key not in unique_entries:
    # Êñ∞Êù°ÁõÆÔºåÁõ¥Êé•Ê∑ªÂä†
    unique_entries[citation_key] = item
else:
    # Â∑≤Â≠òÂú®ÔºåÊØîËæÉÊëòË¶ÅÈïøÂ∫¶
    old_abstract = unique_entries[citation_key].get('abstract', '')
    new_abstract = item.get('abstract', '')
    
    if len(new_abstract) > len(old_abstract):
        # Êñ∞ÊëòË¶ÅÊõ¥ÈïøÔºåÊõ¥Êñ∞
        unique_entries[citation_key] = item

# ‰∏∫‰ªÄ‰πà‰øùÁïôÊëòË¶ÅÊõ¥ÈïøÁöÑÔºü
# ÊëòË¶ÅÊõ¥ÈïøÈÄöÂ∏∏ÊÑèÂë≥ÁùÄ‰ø°ÊÅØÊõ¥ÂÆåÊï¥

# len()ÂáΩÊï∞
len('Hello')         # 5ÔºàÂ≠óÁ¨¶Êï∞Ôºâ
len([1, 2, 3])       # 3ÔºàÂÖÉÁ¥†Êï∞Ôºâ
len({'a': 1, 'b': 2})  # 2ÔºàÈîÆÂÄºÂØπÊï∞Ôºâ

# Êù°‰ª∂Ë°®ËææÂºè
if (condition1 or condition2):
    # condition1Êàñcondition2‰ªª‰∏Ä‰∏∫True
    pass

# Êú¨‰æã‰∏≠Ôºö
if (citation_key not in unique_entries or 
    len(new_abstract) > len(old_abstract)):
    # 1. Êñ∞Êù°ÁõÆÔºà‰∏çÂú®Â≠óÂÖ∏‰∏≠Ôºâ
    # Êàñ
    # 2. ÊëòË¶ÅÊõ¥Èïø
    # Êª°Ë∂≥‰ªª‰∏ÄÊù°‰ª∂Â∞±Êõ¥Êñ∞
```

### ÂºÇÂ∏∏Â§ÑÁêÜÔºàÁ¨¨58-62Ë°åÔºâ

```python
except json.JSONDecodeError as e:         # Á¨¨58Ë°å
    print(f"ÈîôËØØ: Êó†Ê≥ïËß£ÊûêJSONÊñá‰ª∂ {filename}")  # Á¨¨59Ë°å
    print(f"  - ÈîôËØØ‰ø°ÊÅØ: {str(e)}")        # Á¨¨60Ë°å
except Exception as e:                    # Á¨¨61Ë°å
    print(f"Â§ÑÁêÜÊñá‰ª∂ {filename} Êó∂Âá∫Èîô: {str(e)}")  # Á¨¨62Ë°å
```

**ÂºÇÂ∏∏Â§ÑÁêÜËØ¶Ëß£ÔºàÁ¨¨58-62Ë°åÔºâ**Ôºö

```python
except json.JSONDecodeError as e:
    print(f"ÈîôËØØ: Êó†Ê≥ïËß£ÊûêJSONÊñá‰ª∂ {filename}")
    print(f"  - ÈîôËØØ‰ø°ÊÅØ: {str(e)}")
except Exception as e:
    print(f"Â§ÑÁêÜÊñá‰ª∂ {filename} Êó∂Âá∫Èîô: {str(e)}")

# Â§öÈáçÂºÇÂ∏∏Â§ÑÁêÜ
# 1. ÁâπÂÆöÂºÇÂ∏∏Ôºàjson.JSONDecodeErrorÔºâ
except json.JSONDecodeError as e:
    # ‰∏ìÈó®Â§ÑÁêÜJSONËß£ÊûêÈîôËØØ
    # ‰æãÂ¶ÇÔºöÊ†ºÂºèÈîôËØØ„ÄÅËØ≠Ê≥ïÈîôËØØ

# 2. ÈÄöÁî®ÂºÇÂ∏∏ÔºàExceptionÔºâ
except Exception as e:
    # ÊçïËé∑ÊâÄÊúâÂÖ∂‰ªñÂºÇÂ∏∏
    # ‰æãÂ¶ÇÔºöÊñá‰ª∂ËØªÂèñÈîôËØØ„ÄÅÊùÉÈôêÈîôËØØ

# as e
# Â∞ÜÂºÇÂ∏∏ÂØπË±°ËµãÂÄºÁªôÂèòÈáèe
# ÂèØ‰ª•ËÆøÈóÆÂºÇÂ∏∏ÁöÑËØ¶ÁªÜ‰ø°ÊÅØ

# str(e)
# Â∞ÜÂºÇÂ∏∏ÂØπË±°ËΩ¨‰∏∫Â≠óÁ¨¶‰∏≤
# Ëé∑ÂèñÈîôËØØÊ∂àÊÅØ

# ÂºÇÂ∏∏Á±ªÂûãÂ±ÇÊ¨°
"""
BaseException
‚îî‚îÄ‚îÄ Exception
    ‚îú‚îÄ‚îÄ json.JSONDecodeError
    ‚îú‚îÄ‚îÄ IOError
    ‚îú‚îÄ‚îÄ ValueError
    ‚îî‚îÄ‚îÄ ...ÂÖ∂‰ªñÂºÇÂ∏∏
"""

# ‰∏∫‰ªÄ‰πàÂÖàÊçïËé∑JSONDecodeErrorÔºü
# 1. Êõ¥ÂÖ∑‰ΩìÁöÑÂºÇÂ∏∏ÂÖàÂ§ÑÁêÜ
# 2. Êèê‰æõÊõ¥Á≤æÁ°ÆÁöÑÈîôËØØ‰ø°ÊÅØ
# 3. Â¶ÇÊûúÂÖàÊçïËé∑ExceptionÔºåJSONDecodeErrorÊ∞∏Ëøú‰∏ç‰ºöË¢´ÂçïÁã¨Â§ÑÁêÜ

# ÈîôËØØÁöÑÈ°∫Â∫èÔºö
try:
    json.load(f)
except Exception as e:       # ÂÖàÊçïËé∑ÈÄöÁî®ÂºÇÂ∏∏
    print("ÈÄöÁî®ÈîôËØØ")
except json.JSONDecodeError:  # ‚úó Ê∞∏Ëøú‰∏ç‰ºöÊâßË°åÔºàÂ∑≤Ë¢´‰∏äÈù¢ÊçïËé∑Ôºâ
    print("JSONÈîôËØØ")

# Ê≠£Á°ÆÁöÑÈ°∫Â∫èÔºö
try:
    json.load(f)
except json.JSONDecodeError:  # ‚úì ÂÖàÊçïËé∑ÁâπÂÆöÂºÇÂ∏∏
    print("JSONÈîôËØØ")
except Exception as e:        # ÂÜçÊçïËé∑ÈÄöÁî®ÂºÇÂ∏∏
    print("ÈÄöÁî®ÈîôËØØ")

# ÂÆûÈôÖÁ§∫‰æã
# JSONÊ†ºÂºèÈîôËØØÔºö
"""
{
    "name": "test"
    "age": 25  ‚Üê Áº∫Â∞ëÈÄóÂè∑
}
"""
# ÊäõÂá∫JSONDecodeError

# Êñá‰ª∂‰∏çÂ≠òÂú®Ôºö
# ÊäõÂá∫FileNotFoundErrorÔºàË¢´ExceptionÊçïËé∑Ôºâ

# ÊùÉÈôêÈóÆÈ¢òÔºö
# ÊäõÂá∫PermissionErrorÔºàË¢´ExceptionÊçïËé∑Ôºâ
```

### ÂÜôÂÖ•ÂêàÂπ∂ÁªìÊûúÔºàÁ¨¨64-78Ë°åÔºâ

```python
# Â∞ÜÂîØ‰∏ÄÊù°ÁõÆËΩ¨Êç¢‰∏∫ÂàóË°®                    # Á¨¨64Ë°åÔºàÊ≥®ÈáäÔºâ
combined_data = list(unique_entries.values())  # Á¨¨65Ë°å

# Â∞ÜÂêàÂπ∂ÂêéÁöÑÊï∞ÊçÆÂÜôÂÖ•ËæìÂá∫Êñá‰ª∂              # Á¨¨67Ë°åÔºàÊ≥®ÈáäÔºâ
try:                                   # Á¨¨68Ë°å
    with open(self.combined_json, 'w', encoding='utf-8') as f:  # Á¨¨69Ë°å
        json.dump(combined_data, f, ensure_ascii=False, indent=2)  # Á¨¨70Ë°å
    
    print(f"\nJSONÊñá‰ª∂ÂêàÂπ∂ÂÆåÊàêÔºÅ")        # Á¨¨72Ë°å
    print(f"ÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü {len(combined_data)} ‰∏™ÂîØ‰∏ÄÁöÑÊñáÁåÆÊù°ÁõÆ")  # Á¨¨73Ë°å
    print(f"ÂêàÂπ∂ÁªìÊûú‰øùÂ≠òËá≥: {self.combined_json}")  # Á¨¨74Ë°å
    return True                        # Á¨¨75Ë°å
except Exception as e:                 # Á¨¨76Ë°å
    print(f"ÂÜôÂÖ•ËæìÂá∫Êñá‰ª∂Êó∂Âá∫Èîô: {str(e)}")  # Á¨¨77Ë°å
    return False                       # Á¨¨78Ë°å
```

**ËæìÂá∫Â§ÑÁêÜËØ¶Ëß£ÔºàÁ¨¨65-78Ë°åÔºâ**Ôºö

```python
combined_data = list(unique_entries.values())

# dict.values()ÊñπÊ≥ï
# ËøîÂõûÂ≠óÂÖ∏ÁöÑÊâÄÊúâÂÄº

# Á§∫‰æã
entries = {
    'key1': {'title': 'Paper 1'},
    'key2': {'title': 'Paper 2'}
}
values = entries.values()
# dict_values([{'title': 'Paper 1'}, {'title': 'Paper 2'}])

# list()ËΩ¨Êç¢‰∏∫ÂàóË°®
combined = list(values)
# [{'title': 'Paper 1'}, {'title': 'Paper 2'}]

# ‰∏∫‰ªÄ‰πàËΩ¨Êç¢‰∏∫ÂàóË°®Ôºü
# 1. JSONÈúÄË¶ÅÂàóË°®Ê†ºÂºè
# 2. dict_values‰∏çËÉΩÁõ¥Êé•Â∫èÂàóÂåñ‰∏∫JSON

# dictÁöÑÂÖ∂‰ªñÊñπÊ≥ï
entries.keys()    # ÊâÄÊúâÈîÆ
entries.values()  # ÊâÄÊúâÂÄº
entries.items()   # ÊâÄÊúâÈîÆÂÄºÂØπ

# ÂÜôÂÖ•JSONÊñá‰ª∂
with open(self.combined_json, 'w', encoding='utf-8') as f:
    json.dump(combined_data, f, ensure_ascii=False, indent=2)

# 'w'Ê®°Âºè
# ÂÜôÂÖ•Ê®°ÂºèÔºàË¶ÜÁõñÁé∞ÊúâÊñá‰ª∂Ôºâ
# Â¶ÇÊûúÊñá‰ª∂‰∏çÂ≠òÂú®ÔºåÂàõÂª∫Êñ∞Êñá‰ª∂

# json.dump()ÂèÇÊï∞
# 1. combined_dataÔºöË¶ÅÂÜôÂÖ•ÁöÑÊï∞ÊçÆ
# 2. fÔºöÊñá‰ª∂ÂØπË±°
# 3. ensure_ascii=FalseÔºö‰øùÁïô‰∏≠Êñá
# 4. indent=2ÔºöÁº©Ëøõ2‰∏™Á©∫Ê†º

# ËæìÂá∫Ê†ºÂºèÂØπÊØî
# indent=NoneÔºàÈªòËÆ§ÔºâÔºö
[{"title":"ËÆ∫Êñá1"},{"title":"ËÆ∫Êñá2"}]

# indent=2Ôºö
[
  {
    "title": "ËÆ∫Êñá1"
  },
  {
    "title": "ËÆ∫Êñá2"
  }
]

# \nÊç¢Ë°åÁ¨¶
print("\nJSONÊñá‰ª∂ÂêàÂπ∂ÂÆåÊàêÔºÅ")
# ËæìÂá∫ÂâçÂÖàÊç¢Ë°å

print("Ë°å1")
print("\nË°å2")
# ËæìÂá∫Ôºö
# Ë°å1
# (Á©∫Ë°å)
# Ë°å2

# ÊàêÂäüÂèçÈ¶à
print(f"ÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü {len(combined_data)} ‰∏™ÂîØ‰∏ÄÁöÑÊñáÁåÆÊù°ÁõÆ")
# ËæìÂá∫ÔºöÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü 25 ‰∏™ÂîØ‰∏ÄÁöÑÊñáÁåÆÊù°ÁõÆ

# ËøîÂõûTrueË°®Á§∫ÊàêÂäü
return True

# ÂÜôÂÖ•Â§±Ë¥•Êó∂ËøîÂõûFalse
except Exception as e:
    print(f"ÂÜôÂÖ•ËæìÂá∫Êñá‰ª∂Êó∂Âá∫Èîô: {str(e)}")
    return False
```

---

## üìö BibTeXÊñá‰ª∂ÂêàÂπ∂ÊñπÊ≥ï

### ÊñπÊ≥ïÂÆö‰πâÂíåÂàùÂßãÂåñÔºàÁ¨¨80-96Ë°åÔºâ

```python
def merge_bib_files(self) -> bool:         # Á¨¨80Ë°å
    """ÂêàÂπ∂BIBÊñá‰ª∂"""                       # Á¨¨81Ë°å
    if not os.path.exists(self.bib_folder):  # Á¨¨82Ë°å
        print(f"ÈîôËØØÔºö{self.bib_folder} ÁõÆÂΩï‰∏çÂ≠òÂú®")  # Á¨¨83Ë°å
        return False                       # Á¨¨84Ë°å
        
    if not os.listdir(self.bib_folder):    # Á¨¨86Ë°å
        print(f"ÈîôËØØÔºö{self.bib_folder} ÁõÆÂΩï‰∏∫Á©∫")  # Á¨¨87Ë°å
        return False                       # Á¨¨88Ë°å
        
    # Ê≠£ÂàôË°®ËææÂºèÁî®‰∫éÊèêÂèñBibTeXÊù°ÁõÆÁöÑÈîÆ    # Á¨¨90Ë°åÔºàÊ≥®ÈáäÔºâ
    entry_pattern = re.compile(r'@\w+\{([^,]+),')  # Á¨¨91Ë°å
    
    # Â≠òÂÇ®ÊâÄÊúâÂ∑≤Â§ÑÁêÜÁöÑBibTeXÊù°ÁõÆ          # Á¨¨93Ë°åÔºàÊ≥®ÈáäÔºâ
    unique_entries = {}                    # Á¨¨94Ë°å
    
    print("\nÂºÄÂßãÂêàÂπ∂BIBÊñá‰ª∂...")          # Á¨¨96Ë°å
```

**BibTeXÂêàÂπ∂ÂàùÂßãÂåñËØ¶Ëß£ÔºàÁ¨¨91Ë°åÔºâ**Ôºö

```python
entry_pattern = re.compile(r'@\w+\{([^,]+),')

# BibTeXÊù°ÁõÆÊ†ºÂºè
"""
@article{Zhang2024DeepLearning,
  title = {Deep Learning for Computer Vision},
  author = {Zhang, L. and Wang, H.},
  year = {2024},
  journal = {IEEE TPAMI}
}
"""

# Ê≠£ÂàôË°®ËææÂºèËØ¶Ëß£
# r'@\w+\{([^,]+),'

# @        - Â≠óÈù¢ÂåπÈÖç@Á¨¶Âè∑
# \w+      - 1‰∏™ÊàñÂ§ö‰∏™ÂçïËØçÂ≠óÁ¨¶
#           ÂåπÈÖçÔºöarticle„ÄÅinproceedings„ÄÅbookÁ≠â
# \{       - Â≠óÈù¢ÂåπÈÖçÂ∑¶Ëä±Êã¨Âè∑{
# ([^,]+)  - ÊçïËé∑ÁªÑÔºöÂåπÈÖç1‰∏™ÊàñÂ§ö‰∏™ÈùûÈÄóÂè∑Â≠óÁ¨¶
#           ËøôÊòØÊù°ÁõÆÁöÑÈîÆÂêç
# ,        - Â≠óÈù¢ÂåπÈÖçÈÄóÂè∑

# ÂåπÈÖçÁ§∫‰æã
text = "@article{Zhang2024DeepLearning,"
match = entry_pattern.search(text)
if match:
    print(match.group(0))  # "@article{Zhang2024DeepLearning,"ÔºàÂÆåÊï¥ÂåπÈÖçÔºâ
    print(match.group(1))  # "Zhang2024DeepLearning"ÔºàÊçïËé∑ÁªÑ1Ôºâ

# [^,]+ËØ¶Ëß£
# [^...]  - Âê¶ÂÆöÂ≠óÁ¨¶Á±ªÔºåÂåπÈÖç‰∏çÂú®Êã¨Âè∑ÂÜÖÁöÑÂ≠óÁ¨¶
# [^,]    - ÂåπÈÖç‰ªª‰ΩïÈùûÈÄóÂè∑Â≠óÁ¨¶
# [^,]+   - 1‰∏™ÊàñÂ§ö‰∏™ÈùûÈÄóÂè∑Â≠óÁ¨¶

# Á§∫‰æã
# [^,]+ÂåπÈÖçÔºöZhang2024DeepLearning
# ÈÅáÂà∞ÈÄóÂè∑ÂÅúÊ≠¢

# re.compile()
# ÁºñËØëÊ≠£ÂàôË°®ËææÂºè
# ‰ºòÂäøÔºöÂ§öÊ¨°‰ΩøÁî®Êó∂Êõ¥Âø´

# ‰∏çÁºñËØëÔºàÊØèÊ¨°ÈÉΩËß£ÊûêÔºâÔºö
for entry in entries:
    match = re.search(r'pattern', entry)

# ÁºñËØëÂêéÔºàÂè™Ëß£Êûê‰∏ÄÊ¨°ÔºâÔºö
pattern = re.compile(r'pattern')
for entry in entries:
    match = pattern.search(entry)  # Êõ¥Âø´
```

### ËØªÂèñÂíåÂàÜÂâ≤BibTeXÊñá‰ª∂ÔºàÁ¨¨98-121Ë°åÔºâ

```python
# ÈÅçÂéÜÁõÆÂΩï‰∏ãÁöÑÊâÄÊúâBIBÊñá‰ª∂               # Á¨¨98Ë°åÔºàÊ≥®ÈáäÔºâ
for filename in os.listdir(self.bib_folder):  # Á¨¨99Ë°å
    if filename.endswith('.bib'):         # Á¨¨100Ë°å
        file_path = os.path.join(self.bib_folder, filename)  # Á¨¨101Ë°å
        
        try:                              # Á¨¨103Ë°å
            # ËØªÂèñBIBÊñá‰ª∂                  # Á¨¨104Ë°åÔºàÊ≥®ÈáäÔºâ
            with open(file_path, 'r', encoding='utf-8') as f:  # Á¨¨105Ë°å
                content = f.read()        # Á¨¨106Ë°å
            
            # Â∞ÜÊñá‰ª∂ÂÜÖÂÆπÂàÜÂâ≤ÊàêÂçïÁã¨ÁöÑÊù°ÁõÆ    # Á¨¨108Ë°åÔºàÊ≥®ÈáäÔºâ
            entries = []                  # Á¨¨109Ë°å
            current_entry = ""            # Á¨¨110Ë°å
            lines = content.split('\n')   # Á¨¨111Ë°å
            for line in lines:            # Á¨¨112Ë°å
                if line.strip().startswith('@') and current_entry:  # Á¨¨113Ë°å
                    entries.append(current_entry)  # Á¨¨114Ë°å
                    current_entry = line  # Á¨¨115Ë°å
                else:                     # Á¨¨116Ë°å
                    current_entry += line + '\n'  # Á¨¨117Ë°å
            
            # Ê∑ªÂä†ÊúÄÂêé‰∏Ä‰∏™Êù°ÁõÆ              # Á¨¨119Ë°åÔºàÊ≥®ÈáäÔºâ
            if current_entry:             # Á¨¨120Ë°å
                entries.append(current_entry)  # Á¨¨121Ë°å
```

**BibTeXÂàÜÂâ≤ËØ¶Ëß£ÔºàÁ¨¨106-121Ë°åÔºâ**Ôºö

```python
content = f.read()

# read()ÊñπÊ≥ï
# ËØªÂèñÊï¥‰∏™Êñá‰ª∂ÂÜÖÂÆπ‰∏∫Â≠óÁ¨¶‰∏≤

# Á§∫‰æãÊñá‰ª∂ÂÜÖÂÆπ
"""
@article{Zhang2024,
  title = {Paper 1}
}

@inproceedings{Li2024,
  title = {Paper 2}
}
"""

# ÂàÜÂâ≤ÈÄªËæë
entries = []
current_entry = ""
lines = content.split('\n')

# split('\n')
# ÊåâÊç¢Ë°åÁ¨¶ÂàÜÂâ≤Â≠óÁ¨¶‰∏≤
text = "line1\nline2\nline3"
lines = text.split('\n')
# ['line1', 'line2', 'line3']

# ÈÅçÂéÜÊØè‰∏ÄË°å
for line in lines:
    if line.strip().startswith('@') and current_entry:
        # Êñ∞Êù°ÁõÆÂºÄÂßãÔºå‰øùÂ≠òÂΩìÂâçÊù°ÁõÆ
        entries.append(current_entry)
        current_entry = line
    else:
        # ÁªßÁª≠Á¥ØÁßØÂΩìÂâçÊù°ÁõÆ
        current_entry += line + '\n'

# line.strip()
# ÂéªÈô§Ë°åÈ¶ñË°åÂ∞æÁöÑÁ©∫ÁôΩÂ≠óÁ¨¶
'  @article  '.strip()  # '@article'

# startswith()
# Ê£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰ª•ÊåáÂÆöÂâçÁºÄÂºÄÂßã
'@article'.startswith('@')  # True
'title'.startswith('@')     # False

# ÂàÜÂâ≤ÊµÅÁ®ãÁ§∫‰æã
"""
ÂéüÂßãÂÜÖÂÆπÔºö
@article{Zhang2024,
  title = {Paper 1}
}
@inproceedings{Li2024,
  title = {Paper 2}
}

Â§ÑÁêÜËøáÁ®ãÔºö
1. ËØªÂèñ"@article{Zhang2024,"
   current_entry = "@article{Zhang2024,\n"

2. ËØªÂèñ"  title = {Paper 1}"
   current_entry += "  title = {Paper 1}\n"

3. ËØªÂèñ"}"
   current_entry += "}\n"

4. ËØªÂèñ"@inproceedings{Li2024," ‚Üê Êñ∞Êù°ÁõÆÔºÅ
   entries.append(current_entry)  # ‰øùÂ≠òarticle
   current_entry = "@inproceedings{Li2024,\n"

5. ÁªßÁª≠Â§ÑÁêÜ...

6. ÊúÄÂêéÊ∑ªÂä†ÊúÄÂêé‰∏Ä‰∏™Êù°ÁõÆ
   if current_entry:
       entries.append(current_entry)
"""

# ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÂàÜÂâ≤Ôºü
# BibTeXÊñá‰ª∂ÂåÖÂê´Â§ö‰∏™Êù°ÁõÆ
# ÈúÄË¶ÅÂçïÁã¨Â§ÑÁêÜÊØè‰∏™Êù°ÁõÆ
# ‰ª•‰æøÂéªÈáçÂíåÂêàÂπ∂

# +=ËøêÁÆóÁ¨¶
current_entry += line + '\n'
# Á≠â‰ª∑‰∫éÔºö
current_entry = current_entry + line + '\n'

# Â≠óÁ¨¶‰∏≤Á¥ØÂä†
text = "Hello"
text += " "
text += "World"
# "Hello World"
```

### Â§ÑÁêÜÂíåÂéªÈáçBibTeXÊù°ÁõÆÔºàÁ¨¨123-142Ë°åÔºâ

```python
# ËÆ°Êï∞                                  # Á¨¨123Ë°åÔºàÊ≥®ÈáäÔºâ
total_entries = len(entries)          # Á¨¨124Ë°å
unique_count = 0                      # Á¨¨125Ë°å

# Â§ÑÁêÜÊØè‰∏™Êù°ÁõÆ                          # Á¨¨127Ë°åÔºàÊ≥®ÈáäÔºâ
for entry in entries:                 # Á¨¨128Ë°å
    # Ë∑≥ËøáÁ©∫Êù°ÁõÆ                         # Á¨¨129Ë°åÔºàÊ≥®ÈáäÔºâ
    if not entry.strip():             # Á¨¨130Ë°å
        continue                      # Á¨¨131Ë°å
        
    # ÊèêÂèñÊù°ÁõÆÁöÑÈîÆ                       # Á¨¨133Ë°åÔºàÊ≥®ÈáäÔºâ
    match = entry_pattern.search(entry)  # Á¨¨134Ë°å
    if match:                         # Á¨¨135Ë°å
        entry_key = match.group(1).strip()  # Á¨¨136Ë°å
        
        # Â¶ÇÊûúËøô‰∏™ÈîÆËøòÊ≤°ÊúâË¢´Â§ÑÁêÜÔºåÊ∑ªÂä†Âà∞ÂîØ‰∏ÄÊù°ÁõÆÂ≠óÂÖ∏  # Á¨¨138Ë°åÔºàÊ≥®ÈáäÔºâ
        if entry_key not in unique_entries:  # Á¨¨139Ë°å
            unique_entries[entry_key] = entry  # Á¨¨140Ë°å
            unique_count += 1         # Á¨¨141Ë°å
```

**BibTeXÂéªÈáçËØ¶Ëß£ÔºàÁ¨¨128-141Ë°åÔºâ**Ôºö

```python
for entry in entries:
    if not entry.strip():
        continue
    
    match = entry_pattern.search(entry)
    if match:
        entry_key = match.group(1).strip()
        
        if entry_key not in unique_entries:
            unique_entries[entry_key] = entry

# Ë∑≥ËøáÁ©∫Êù°ÁõÆ
if not entry.strip():
    continue

# continueËØ≠Âè•
# Ë∑≥ËøáÊú¨Ê¨°Âæ™ÁéØÔºåÁªßÁª≠‰∏ã‰∏ÄÊ¨°

# Á§∫‰æã
for i in range(5):
    if i == 2:
        continue  # Ë∑≥Ëøá2
    print(i)
# ËæìÂá∫Ôºö0, 1, 3, 4

# ÊèêÂèñÊù°ÁõÆÈîÆ
match = entry_pattern.search(entry)
# Âú®entry‰∏≠Êü•ÊâæÂåπÈÖçÁöÑÊ®°Âºè

# entryÁ§∫‰æãÔºö
"""
@article{Zhang2024DeepLearning,
  title = {Deep Learning},
  ...
}
"""

# ÂåπÈÖçÁªìÊûúÔºö
if match:
    entry_key = match.group(1).strip()
    # "Zhang2024DeepLearning"

# match.group(1)
# Ëé∑ÂèñÁ¨¨‰∏Ä‰∏™ÊçïËé∑ÁªÑÁöÑÂÜÖÂÆπ
# Âç≥()‰∏≠ÂåπÈÖçÁöÑÈÉ®ÂàÜ

# strip()
# ÂéªÈô§Á©∫ÁôΩÂ≠óÁ¨¶
'  Zhang2024  '.strip()  # 'Zhang2024'

# ÂéªÈáçÈÄªËæë
if entry_key not in unique_entries:
    # Êñ∞Êù°ÁõÆÔºåÊ∑ªÂä†
    unique_entries[entry_key] = entry
else:
    # Â∑≤Â≠òÂú®ÔºåË∑≥ËøáÔºà‰øùÁïôÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑÔºâ

# ‰∏∫‰ªÄ‰πà‰øùÁïôÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑÔºü
# BibTeXÂêàÂπ∂Áõ∏ÂØπÁÆÄÂçï
# JSONÂêàÂπ∂‰ºöÊØîËæÉÊëòË¶ÅÈïøÂ∫¶
# BibTeXÁõ¥Êé•ÂéªÈáç

# unique_entriesÂ≠óÂÖ∏
unique_entries = {
    'Zhang2024DeepLearning': '@article{Zhang2024DeepLearning,\n...',
    'Li2024NLP': '@inproceedings{Li2024NLP,\n...',
    ...
}

# ÁªüËÆ°
unique_count += 1
# ÊØèÊ∑ªÂä†‰∏Ä‰∏™Êñ∞Êù°ÁõÆÔºåËÆ°Êï∞Âô®+1
```

### ÂÜôÂÖ•ÂêàÂπ∂ÁöÑBibTeXÊñá‰ª∂ÔºàÁ¨¨147-162Ë°åÔºâ

```python
# Â∞ÜÊâÄÊúâÂîØ‰∏ÄÊù°ÁõÆÂÜôÂÖ•ËæìÂá∫Êñá‰ª∂            # Á¨¨147Ë°åÔºàÊ≥®ÈáäÔºâ
try:                                  # Á¨¨148Ë°å
    with open(self.combined_bib, 'w', encoding='utf-8') as f:  # Á¨¨149Ë°å
        for entry in unique_entries.values():  # Á¨¨150Ë°å
            f.write(entry)            # Á¨¨151Ë°å
            # Á°Æ‰øùÊØè‰∏™Êù°ÁõÆ‰πãÈó¥ÊúâË∂≥Â§üÁöÑÁ©∫Ë°å  # Á¨¨152Ë°åÔºàÊ≥®ÈáäÔºâ
            if not entry.endswith('\n\n'):  # Á¨¨153Ë°å
                f.write('\n\n')       # Á¨¨154Ë°å
    
    print(f"\nBIBÊñá‰ª∂ÂêàÂπ∂ÂÆåÊàêÔºÅ")       # Á¨¨156Ë°å
    print(f"ÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü {len(unique_entries)} ‰∏™ÂîØ‰∏ÄÁöÑBibTeXÊù°ÁõÆ")  # Á¨¨157Ë°å
    print(f"ÂêàÂπ∂ÁªìÊûú‰øùÂ≠òËá≥: {self.combined_bib}")  # Á¨¨158Ë°å
    return True                       # Á¨¨159Ë°å
except Exception as e:                # Á¨¨160Ë°å
    print(f"ÂÜôÂÖ•ËæìÂá∫Êñá‰ª∂Êó∂Âá∫Èîô: {str(e)}")  # Á¨¨161Ë°å
    return False                      # Á¨¨162Ë°å
```

**BibTeXÂÜôÂÖ•ËØ¶Ëß£ÔºàÁ¨¨149-154Ë°åÔºâ**Ôºö

```python
with open(self.combined_bib, 'w', encoding='utf-8') as f:
    for entry in unique_entries.values():
        f.write(entry)
        if not entry.endswith('\n\n'):
            f.write('\n\n')

# ÈÅçÂéÜÊâÄÊúâÊù°ÁõÆ
for entry in unique_entries.values():
    # ÂÜôÂÖ•Êù°ÁõÆ
    f.write(entry)

# f.write()
# ÂÜôÂÖ•Â≠óÁ¨¶‰∏≤Âà∞Êñá‰ª∂
f.write("Hello\n")
f.write("World\n")
# Êñá‰ª∂ÂÜÖÂÆπÔºö
# Hello
# World

# Á°Æ‰øùÊù°ÁõÆÈó¥ÊúâÁ©∫Ë°å
if not entry.endswith('\n\n'):
    f.write('\n\n')

# endswith()
# Ê£ÄÊü•Â≠óÁ¨¶‰∏≤ÊòØÂê¶‰ª•ÊåáÂÆöÂêéÁºÄÁªìÊùü
'text\n\n'.endswith('\n\n')  # True
'text\n'.endswith('\n\n')    # False

# ‰∏∫‰ªÄ‰πàÈúÄË¶ÅÁ©∫Ë°åÔºü
# BibTeXÊ†ºÂºèË¶ÅÊ±ÇÊù°ÁõÆ‰πãÈó¥ÊúâÁ©∫Ë°å
# ÊèêÈ´òÂèØËØªÊÄß

# ËæìÂá∫Ê†ºÂºèÁ§∫‰æã
"""
@article{Zhang2024,
  title = {Paper 1}
}

@inproceedings{Li2024,
  title = {Paper 2}
}

@book{Wang2024,
  title = {Book 1}
}
"""

# Â¶ÇÊûúÊ≤°ÊúâÁ©∫Ë°åÔºö
"""
@article{Zhang2024,
  title = {Paper 1}
}
@inproceedings{Li2024,
  title = {Paper 2}
}
"""
# ‰∏çÂ§üÊ∏ÖÊô∞

# write() vs print()
# write()ÔºöÂÜôÂÖ•Êñá‰ª∂
f.write("text")

# print()ÔºöËæìÂá∫Âà∞ÊéßÂà∂Âè∞
print("text")

# print()‰πüÂèØ‰ª•ÂÜôÂÖ•Êñá‰ª∂
print("text", file=f)
```

---

## üîÑ Áªü‰∏ÄÂêàÂπ∂ÊñπÊ≥ï

### merge_all_resultsÊñπÊ≥ïÔºàÁ¨¨164-184Ë°åÔºâ

```python
def merge_all_results(self) -> bool:      # Á¨¨164Ë°å
    """ÂêàÂπ∂ÊâÄÊúâÁªìÊûúÊñá‰ª∂"""                 # Á¨¨165Ë°å
    # Ê£ÄÊü•ÁõÆÂΩïÊòØÂê¶Â≠òÂú®                    # Á¨¨166Ë°åÔºàÊ≥®ÈáäÔºâ
    if not os.path.exists(self.json_folder) or not os.path.exists(self.bib_folder):  # Á¨¨167Ë°å
        print("\nÈîôËØØÔºöÁªìÊûúÁõÆÂΩï‰∏çÂÆåÊï¥")    # Á¨¨168Ë°å
        print(f"JSONÁõÆÂΩï ({self.json_folder}) Â≠òÂú®: {os.path.exists(self.json_folder)}")  # Á¨¨169Ë°å
        print(f"BIBÁõÆÂΩï ({self.bib_folder}) Â≠òÂú®: {os.path.exists(self.bib_folder)}")  # Á¨¨170Ë°å
        return False                      # Á¨¨171Ë°å
        
    # Ê£ÄÊü•ÁõÆÂΩïÊòØÂê¶‰∏∫Á©∫                    # Á¨¨173Ë°åÔºàÊ≥®ÈáäÔºâ
    if not os.listdir(self.json_folder) or not os.listdir(self.bib_folder):  # Á¨¨174Ë°å
        print("\nÈîôËØØÔºöÁªìÊûúÁõÆÂΩï‰∏∫Á©∫")      # Á¨¨175Ë°å
        print(f"JSONÁõÆÂΩï ({self.json_folder}) ‰∏∫Á©∫: {not os.listdir(self.json_folder)}")  # Á¨¨176Ë°å
        print(f"BIBÁõÆÂΩï ({self.bib_folder}) ‰∏∫Á©∫: {not os.listdir(self.bib_folder)}")  # Á¨¨177Ë°å
        return False                      # Á¨¨178Ë°å
        
    # ÂêàÂπ∂Êñá‰ª∂                           # Á¨¨180Ë°åÔºàÊ≥®ÈáäÔºâ
    json_success = self.merge_json_files()  # Á¨¨181Ë°å
    bib_success = self.merge_bib_files()    # Á¨¨182Ë°å
    
    return json_success and bib_success  # Á¨¨184Ë°å
```

**Áªü‰∏ÄÂêàÂπ∂ÊñπÊ≥ïËØ¶Ëß£ÔºàÁ¨¨164-184Ë°åÔºâ**Ôºö

```python
def merge_all_results(self) -> bool:
    # Ê£ÄÊü•ÁõÆÂΩï
    if not os.path.exists(self.json_folder) or not os.path.exists(self.bib_folder):
        print("\nÈîôËØØÔºöÁªìÊûúÁõÆÂΩï‰∏çÂÆåÊï¥")
        return False
    
    # Ê£ÄÊü•ÊòØÂê¶‰∏∫Á©∫
    if not os.listdir(self.json_folder) or not os.listdir(self.bib_folder):
        print("\nÈîôËØØÔºöÁªìÊûúÁõÆÂΩï‰∏∫Á©∫")
        return False
    
    # ÂêàÂπ∂Êñá‰ª∂
    json_success = self.merge_json_files()
    bib_success = self.merge_bib_files()
    
    return json_success and bib_success

# ÈÄªËæëÊàñËøêÁÆóÁ¨¶ or
if not exists(folder1) or not exists(folder2):
    # folder1‰∏çÂ≠òÂú® Êàñ folder2‰∏çÂ≠òÂú®
    # ‰ªª‰∏ÄÊù°‰ª∂‰∏∫TrueÔºåÊï¥‰∏™Ë°®ËææÂºè‰∏∫True

# Á§∫‰æã
False or False  # False
False or True   # True
True or False   # True
True or True    # True

# ÈÄªËæë‰∏éËøêÁÆóÁ¨¶ and
if not empty(folder1) or not empty(folder2):
    # folder1‰∏∫Á©∫ Êàñ folder2‰∏∫Á©∫
    pass

# ËøîÂõûÂÄºÁªÑÂêà
json_success = True
bib_success = True
result = json_success and bib_success  # True

json_success = True
bib_success = False
result = json_success and bib_success  # False

# andËøêÁÆóÁ¨¶
# ‰∏§ËÄÖÈÉΩ‰∏∫TrueÔºåÁªìÊûúÊâç‰∏∫True
True and True    # True
True and False   # False
False and True   # False
False and False  # False

# ‰∏∫‰ªÄ‰πàÁî®andÔºü
# Âè™ÊúâJSONÂíåBibTeXÈÉΩÊàêÂäüÂêàÂπ∂
# Êï¥‰∏™Êìç‰ΩúÊâçÁÆóÊàêÂäü

# Áü≠Ë∑ØÊ±ÇÂÄº
# andÔºöÁ¨¨‰∏Ä‰∏™‰∏∫FalseÔºå‰∏çÂÜçËÆ°ÁÆóÁ¨¨‰∫å‰∏™
# orÔºöÁ¨¨‰∏Ä‰∏™‰∏∫TrueÔºå‰∏çÂÜçËÆ°ÁÆóÁ¨¨‰∫å‰∏™

# Á§∫‰æã
def expensive_check():
    print("ÊâßË°åÂ§çÊùÇÊ£ÄÊü•")
    return True

# Áü≠Ë∑ØÁ§∫‰æã
result = False and expensive_check()
# expensive_check()‰∏ç‰ºöË¢´Ë∞ÉÁî®
# Âõ†‰∏∫False and ... ÂøÖÂÆö‰∏∫False

result = True or expensive_check()
# expensive_check()‰∏ç‰ºöË¢´Ë∞ÉÁî®
# Âõ†‰∏∫True or ... ÂøÖÂÆö‰∏∫True

# ‰ΩøÁî®Á§∫‰æã
merger = ResultMerger(
    json_folder='json_results',
    bib_folder='bib_results',
    combined_json='references.json',
    combined_bib='references.bib'
)

# ÂêàÂπ∂ÊâÄÊúâÁªìÊûú
success = merger.merge_all_results()
if success:
    print("ÊâÄÊúâÊñá‰ª∂ÂêàÂπ∂ÊàêÂäü")
else:
    print("ÂêàÂπ∂Â§±Ë¥•")

# ËæìÂá∫Á§∫‰æã
"""
ÂºÄÂßãÂêàÂπ∂JSONÊñá‰ª∂...

JSONÊñá‰ª∂ÂêàÂπ∂ÂÆåÊàêÔºÅ
ÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü 25 ‰∏™ÂîØ‰∏ÄÁöÑÊñáÁåÆÊù°ÁõÆ
ÂêàÂπ∂ÁªìÊûú‰øùÂ≠òËá≥: references.json

ÂºÄÂßãÂêàÂπ∂BIBÊñá‰ª∂...

BIBÊñá‰ª∂ÂêàÂπ∂ÂÆåÊàêÔºÅ
ÊÄªÂÖ±Â§ÑÁêÜ‰∫Ü 25 ‰∏™ÂîØ‰∏ÄÁöÑBibTeXÊù°ÁõÆ
ÂêàÂπ∂ÁªìÊûú‰øùÂ≠òËá≥: references.bib
"""
```

---

## üéØ ÊäÄÊúØÊÄªÁªì

### Ê†∏ÂøÉÊäÄÊúØÊ†à

| ÊäÄÊúØ | Áî®ÈÄî | ÂÖ≥ÈîÆ‰ª£Á†Å |
|------|------|---------|
| **Â≠óÂÖ∏ÂéªÈáç** | Ëá™Âä®ÂéªÈáç | `unique_entries[key] = value` |
| **Ê≠£ÂàôË°®ËææÂºè** | ÊèêÂèñBibTeXÈîÆ | `re.compile(r'@\w+\{([^,]+),')` |
| **Êñá‰ª∂Êìç‰Ωú** | ËØªÂÜôÊñá‰ª∂ | `os.listdir()`, `open()` |
| **JSONÂ§ÑÁêÜ** | Â∫èÂàóÂåñ | `json.load()`, `json.dump()` |
| **ÂºÇÂ∏∏Â§ÑÁêÜ** | ÈîôËØØÁÆ°ÁêÜ | `try-except-finally` |

### Ê†∏ÂøÉÁÆóÊ≥ï

#### JSONÂéªÈáçÁÆóÊ≥ï

```python
unique_entries = {}  # Â≠óÂÖ∏Â≠òÂÇ®

for file in json_files:
    data = json.load(file)
    for item in data:
        key = item.get('citation_key')
        
        # Â¶ÇÊûú‰∏çÂ≠òÂú®ÊàñÊëòË¶ÅÊõ¥ÈïøÔºåÂàôÊõ¥Êñ∞
        if (key not in unique_entries or
            len(item.get('abstract', '')) > len(unique_entries[key].get('abstract', ''))):
            unique_entries[key] = item

# ËΩ¨Êç¢‰∏∫ÂàóË°®ËæìÂá∫
result = list(unique_entries.values())
```

#### BibTeXÂéªÈáçÁÆóÊ≥ï

```python
unique_entries = {}  # Â≠óÂÖ∏Â≠òÂÇ®
pattern = re.compile(r'@\w+\{([^,]+),')

for file in bib_files:
    content = read_file(file)
    entries = split_entries(content)  # ÂàÜÂâ≤Êù°ÁõÆ
    
    for entry in entries:
        match = pattern.search(entry)
        if match:
            key = match.group(1)
            # ‰øùÁïôÁ¨¨‰∏ÄÊ¨°Âá∫Áé∞ÁöÑ
            if key not in unique_entries:
                unique_entries[key] = entry

# ÂÜôÂÖ•Êñá‰ª∂
for entry in unique_entries.values():
    write(entry)
```

### ËÆæËÆ°Ê®°Âºè

1. **Èò≤Âæ°ÊÄßÁºñÁ®ã**: ËæìÂÖ•È™åËØÅ
   ```python
   if not os.path.exists(folder):
       return False
   ```

2. **Â≠óÂÖ∏ÂéªÈáç**: Âà©Áî®ÈîÆÁöÑÂîØ‰∏ÄÊÄß
   ```python
   unique_entries[key] = value
   ```

3. **Êô∫ËÉΩÈÄâÊã©**: ‰øùÁïôÊúÄ‰ºòÁâàÊú¨
   ```python
   if len(new_abstract) > len(old_abstract):
       update()
   ```

4. **ÂºÇÂ∏∏ÈöîÁ¶ª**: Âçï‰∏™Êñá‰ª∂Â§±Ë¥•‰∏çÂΩ±ÂìçÊï¥‰Ωì
   ```python
   try:
       process_file()
   except Exception:
       continue  # ÁªßÁª≠Â§ÑÁêÜ‰∏ã‰∏Ä‰∏™
   ```

### ÊúÄ‰Ω≥ÂÆûË∑µ

1. ‚úÖ **Á±ªÂûãÊèêÁ§∫**: ‰ΩøÁî®`-> bool`Á≠â
2. ‚úÖ **ËæìÂÖ•È™åËØÅ**: Ê£ÄÊü•ÁõÆÂΩïÂ≠òÂú®ÂíåÈùûÁ©∫
3. ‚úÖ **ÂºÇÂ∏∏Â§ÑÁêÜ**: try-exceptÊçïËé∑ÈîôËØØ
4. ‚úÖ **ÁºñÁ†ÅÊåáÂÆö**: `encoding='utf-8'`
5. ‚úÖ **Â≠óÂÖ∏ÂéªÈáç**: O(1)Êó∂Èó¥Â§çÊùÇÂ∫¶
6. ‚úÖ **Áî®Êà∑ÂèçÈ¶à**: Ê∏ÖÊô∞ÁöÑËøõÂ∫¶ÂíåÁªìÊûúÊèêÁ§∫
7. ‚úÖ **Êñá‰ª∂Ê†ºÂºè**: JSONÁæéÂåñËæìÂá∫Ôºàindent=2Ôºâ

### Â≠¶‰π†‰ª∑ÂÄº

Ëøô‰∏™ÂêàÂπ∂Âô®Â±ïÁ§∫‰∫ÜÔºö
- üìÅ **Êñá‰ª∂ÊâπÂ§ÑÁêÜ**: ÈÅçÂéÜÁõÆÂΩïÂíåÂ§ÑÁêÜÂ§ö‰∏™Êñá‰ª∂
- üîç **Ê≠£ÂàôË°®ËææÂºè**: ÊèêÂèñÁªìÊûÑÂåñÊñáÊú¨‰ø°ÊÅØ
- üìä **Êï∞ÊçÆÂéªÈáç**: Â≠óÂÖ∏ÁöÑÈ´òÊïàÂ∫îÁî®
- üõ°Ô∏è **ÂÅ•Â£ÆÊÄß**: ÂÆåÂñÑÁöÑÈîôËØØÂ§ÑÁêÜ
- üìù **Ê†ºÂºèÂåñËæìÂá∫**: JSONÂíåBibTeXÊ†ºÂºèÂ§ÑÁêÜ

### ‰ΩøÁî®Âú∫ÊôØ

| Âú∫ÊôØ | ÊñπÊ≥ï | ËØ¥Êòé |
|------|------|------|
| **Âè™ÂêàÂπ∂JSON** | `merge_json_files()` | ÂçïÁã¨ÂêàÂπ∂JSON |
| **Âè™ÂêàÂπ∂BibTeX** | `merge_bib_files()` | ÂçïÁã¨ÂêàÂπ∂BibTeX |
| **ÂêàÂπ∂ÊâÄÊúâ** | `merge_all_results()` | ÂêåÊó∂ÂêàÂπ∂‰∏§ÁßçÊ†ºÂºè |

### ÂÆåÊï¥‰ΩøÁî®Á§∫‰æã

```python
# ÂàõÂª∫ÂêàÂπ∂Âô®
merger = ResultMerger(
    json_folder='json_results',
    bib_folder='bib_results',
    combined_json='references.json',
    combined_bib='references.bib'
)

# ÊñπÂºè1ÔºöÂêàÂπ∂ÊâÄÊúâÁªìÊûú
success = merger.merge_all_results()

# ÊñπÂºè2ÔºöÂçïÁã¨ÂêàÂπ∂
json_ok = merger.merge_json_files()
bib_ok = merger.merge_bib_files()

# Ê£ÄÊü•ÁªìÊûú
if success:
    print("ÂêàÂπ∂ÊàêÂäüÔºÅ")
    # ËæìÂá∫Êñá‰ª∂Ôºö
    # - references.json
    # - references.bib
```

**ÂÆåÊï¥ÁöÑÊñá‰ª∂ÂêàÂπ∂Ëß£ÂÜ≥ÊñπÊ°à**ÔºÅüöÄ


